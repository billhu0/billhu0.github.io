<!DOCTYPE html><html lang="en" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="theme-color" content="#2f4154"><meta name="author" content="Bill Hu"><meta name="keywords" content=""><meta name="description" content="Some commonly used git commands and concepts, for beginners."><meta property="og:type" content="article"><meta property="og:title" content="Git"><meta property="og:url" content="https://www.billhu.us/2022/23_git/index.html"><meta property="og:site_name" content="Bill Hu&#39;s Blog"><meta property="og:description" content="Some commonly used git commands and concepts, for beginners."><meta property="og:locale" content="en_US"><meta property="article:published_time" content="2022-03-14T19:24:01.000Z"><meta property="article:modified_time" content="2023-02-07T15:27:47.542Z"><meta property="article:author" content="Bill Hu"><meta property="article:tag" content="git"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary_large_image"><title>Git - Bill Hu&#39;s Blog</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var dntVal,Fluid=window.Fluid||{},CONFIG=(Fluid.ctx=Object.assign({},Fluid.ctx),{hostname:"www.billhu.us",root:"/",version:"1.9.4",typing:{enable:!0,typeSpeed:30,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!1,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"});CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><script>!function(t,e,n,c,a,r){t[n]=t[n]||function(){(t[n].q=t[n].q||[]).push(arguments)},(a=e.createElement(c)).async=1,a.src="https://www.clarity.ms/tag/fjnxcr4gva",(r=e.getElementsByTagName(c)[0]).parentNode.insertBefore(a,r)}(window,document,"clarity","script")</script><meta name="google-site-verification" content="IqNfw3GiMxuhw7kYoEdhMJoh3j99KHuGI9bw00hPn2c"><meta name="generator" content="Hexo 6.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>Bill Hu&#39;s Blog</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="/"><i class="iconfont icon-home-fill"></i> <span>Home</span></a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> <span>Archives</span></a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> <span>Categories</span></a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> <span>Tags</span></a></li><li class="nav-item"><a class="nav-link" href="/links/"><i class="iconfont icon-link-fill"></i> <span>Links</span></a></li><li class="nav-item"><a class="nav-link" href="/about/"><i class="iconfont icon-user-fill"></i> <span>About</span></a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search"><i class="iconfont icon-search"></i></a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle"><i class="iconfont icon-dark" id="color-toggle-icon"></i></a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="Git"></span></div><div class="mt-3"><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-03-14 19:24" pubdate>March 14, 2022 pm</time></span></div><div class="mt-1"></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">Git</h1><div class="markdown-body"><h2 id="what-is-git"><a class="markdownIt-Anchor" href="#what-is-git"></a> What is <code>git</code> ?</h2><p>Git is an open source distributed version control tool (VCS) and source code management system. It was created in 2005 by developers working on the Linux system.</p><p>It is useful which allows you to</p><ul><li>work with other developers simultaneously while disallowing overwritting each other’s changes</li><li>maintain a history of every version</li></ul><p>and so on.</p><h2 id="create-a-repo"><a class="markdownIt-Anchor" href="#create-a-repo"></a> Create a repo</h2><p>In simple terms, repository, or often ‘repo’ in short, is a directory that all files in it can be managed by git. The modifications, deletions of every file can be tracked and you can visit or restore the history version at any time.</p><p><code>git init</code> makes the current directory a git repository.</p><div class="note note-info"><p>After doing this, a hidden directory <code>.git</code> is added. Do not modify the files in it, otherwise you might damage the git repository.</p></div><h3 id="add-a-file-to-repository"><a class="markdownIt-Anchor" href="#add-a-file-to-repository"></a> Add a file to repository</h3><ul><li><p>Create a file</p><p>You can use commands like <code>touch readme.txt</code> to create a new text file.</p><p>Once you’ve added a file, git will notice the new file, but it won’t track it unless you tell it to. Git only manages changes to files it tracks, so we will send a command to let git track the file.</p></li><li><p>Add it to git</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git add readme.txt<br></code></pre></td></tr></table></figure></li><li><p>Commit it to git</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git commit -m &quot;wrote a readme file&quot;<br></code></pre></td></tr></table></figure><div class="note note-info"><p>The message at the end should be something releated to what the commit contains, maybe a new feature, a bug fix, or just fixing a typo.</p><p>Never use a commit message like <code>abcdef</code> or <code>123456</code>, which makes other people who see your commit confused. Commits can live forever in a repo, so a clear commit message can be extremely helpful for you and future programmers who are trying to figure out why some changes was made years later.</p></div></li></ul><h3 id="the-concept-of-staging"><a class="markdownIt-Anchor" href="#the-concept-of-staging"></a> The concept of ‘staging’</h3><p>One of the most confusing parts when you’re first learning git is the concept of the staging environment and how it relates to a commit. Unlike other version control system (e.g SVN), git has a concept called ‘staging area’.</p><p>A <strong>commit</strong> is a record of what changes you have made since the last commit. Essentially, you make changes to a repo (adding or deleting a file, or modifying one), and then tell git to put those changes to a commit.</p><p>Commits make up the essence of your project and allow you to jump to the state of a project at any other commit.</p><p>To add a file or modification to a commit, you first need to add it to the <strong>staging environment</strong>. You can use <code>git add &lt;filename&gt;</code> to do this.</p><p>Once you’ve add all the files you want to the staging environment, you can then tell <code>git</code> to package them into a commit, by using <code>git commit -m &lt;commit message&gt;</code>.</p><p>Once you commited, if you did no modifications to the working directory, the working directory is ‘clean’. The following output indicates your working tree is clean.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch master<br>nothing to commit, working tree clean<br></code></pre></td></tr></table></figure><h2 id="traveling-to-the-past"><a class="markdownIt-Anchor" href="#traveling-to-the-past"></a> Traveling to the past</h2><h3 id="roll-back-to-a-version"><a class="markdownIt-Anchor" href="#roll-back-to-a-version"></a> Roll back to a version</h3><ul><li><p><code>git log</code> shows the commit history (from the nearest to the farthest).</p><p>To prettify the output, use <code>git log --pretty=oneline</code> instead, which prints each single commit in one line.</p></li><li><p>In git, the pointer named <code>HEAD</code> indicates current version, <code>HEAD^</code> indicates the last version, and <code>HEAD~100</code> indicates the last 100 version.</p></li><li><p>Roll back to the last version</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git reset --hard HEAD^<br></code></pre></td></tr></table></figure><p>This command will discard all the modifications and commits after this version, which is dangerous, and that’s why we need to add <code>--hard</code> to do it.</p><p>We cannot find the newest version by using <code>git log</code> now. We have already travelled to the past, but we cannot see the future currently.</p><p>If we want to go back to the newest version, we have to first find the commit id of it, and use <code>git reset --hard 1094a</code>, where <code>1094a</code> is your commit number (change it to yours, of course).</p><p>It’s not necessary to write the whole commit id (which is rather long), git will automatically find for the commit whose head matches.</p></li><li><p>What can I do if the newest commit id is lost?</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git reflog<br></code></pre></td></tr></table></figure><p><code>git reflog</code> will record every git command you executed.</p></li></ul><h3 id="discard-modifications"><a class="markdownIt-Anchor" href="#discard-modifications"></a> Discard modifications</h3><div class="note note-info"><p>Git <strong>tracks the modifications</strong> of files instead of files.</p></div><ul><li><p>To discard the modifications in working directory, you can use the following command.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git checkout -- readme.txt<br></code></pre></td></tr></table></figure><p>If you haven’t put the modifications to the staging area (<code>git add</code>), this will put the file back to the same state of the version repository.</p><p>If there’re modications since you added the files to the staging, this will put the file back to the state you add them to the staging.</p><p>In one word, this operation lets you go back to the file state at the latest <code>git commit</code> or <code>git add</code>.</p></li><li><div class="note note-info"><p><code>git checkout</code> command without <code>--</code> is the command to switch branches.</p></div></li><li><p><code>git reset HEAD &lt;file&gt;</code> can undo the modifications at the staging environment (the modifications that you have 'add’ed but haven’t 'commit’ed. It can be used to roll back to a version, or undo the modications at staging to the working directory.</p></li></ul><h3 id="deleting-a-file"><a class="markdownIt-Anchor" href="#deleting-a-file"></a> Deleting a file</h3><p>In git, deleting a file is also a ‘modification’. In general, we can directly delete a file in file manager or using <code>rm</code> command.</p><p>After doing this, git will notice that a file has been deleted, and will ask whether you want to delete the file. To ‘confirm’ deleting the file, use</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git rm xxx<br>git commit -m &quot;remove xxx&quot;<br></code></pre></td></tr></table></figure><p>to delete the file from repo.</p><div class="note note-info"><p>After deleting a file manually, using <code>git rm xxx</code> and <code>git add xxx</code> (where <code>xxx</code> is the deleted file) makes no difference.</p></div><p>The other condition is that, you delete a file by mistake. In this case, we can use</p><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">git checkout <span class="hljs-comment">-- xxx</span><br></code></pre></td></tr></table></figure><p>to restore the file to its latest committed version. In fact, <code>git checkout --</code> replaces the file in repo to the file in workspace, so whether you modified or even deleted it, you can use this command to restore it at ease.</p><p>However, note that files that have never been added to repos cannot be recovered.</p><h2 id="branch-management"><a class="markdownIt-Anchor" href="#branch-management"></a> Branch management</h2><h3 id="the-concept-of-branch"><a class="markdownIt-Anchor" href="#the-concept-of-branch"></a> The concept of ‘branch’</h3><p>Now let’s try something a little more advanced.</p><p>Say you want to make a new feature, but don’t want to harm the main project unless the new feature is finished. That’s what <strong>git branches</strong> can do. Branches allow you to move back and forth between ‘states’ of a project. Official git docs descibes in this way:</p><blockquote><p>A branch in Git is simply a lightweight movable pointer to one of these commits.</p></blockquote><p>For instance, if you want to add a new page to your website, you can create a new branch just for that page without affecting the main part of the project. Once you’re done with the page, you can ‘merge’ changes from your branch into the primary branch. When you create a new branch, Git keeps track of which commit your branch ‘branched’ off of, so it knows the history behind all the files.</p><h3 id="create-and-merge-branches"><a class="markdownIt-Anchor" href="#create-and-merge-branches"></a> Create and merge branches</h3><p>To be strict, instead of pointing to commit, <code>HEAD</code> actually points to <code>master</code> (the current branch), and <code>master</code> points to the commit. You can also make <code>HEAD</code> pointing to other branches.</p><ul><li><p>Create a branch called ‘dev’ and switch (check you out) to that branch</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git checkout -b dev</span><br>Switched to a new branch &#x27;dev&#x27;<br></code></pre></td></tr></table></figure><p><code>-b</code> argument means 'create and switch to the branch`, and the command above is equivalent to</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git branch dev<br>git checkout dev<br></code></pre></td></tr></table></figure></li><li><p>See what branch we are currently on</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">git branch</span><br></code></pre></td></tr></table></figure><p>This command will list all existing branches, which the current branch has <code>*</code> before the branch name.</p></li><li><p>Since we are currently on branch ‘dev’, all the commits will be committed to that branch. If we switch back to the original branch ‘master’ by using <code>git checkout master'</code>, we will find the new commits disappearing.</p><p>To merge tha commits on branch ‘dev’ to the branch ‘master’, we can use the following command</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git merge dev</span><br>Updating d46f35e..b17d20e<br>Fast-forward<br> readme.txt | 1 +<br> 1 file changed, 1 insertion(+)<br></code></pre></td></tr></table></figure><p><strong>merge</strong> will merge the specified branch to the current branch.</p><p><strong>Fast-forward</strong> indicates that this merge is in ‘fast-forward’ mode, that is, directly let ‘master’ points to the current commit of branch ‘dev’. Since this only requires a pointer move, the merge speed is extremely fast.</p></li></ul><h3 id="delete-a-branch"><a class="markdownIt-Anchor" href="#delete-a-branch"></a> Delete a branch</h3><ul><li><p>Delete branch ‘dev’</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git branch -d dev<br></code></pre></td></tr></table></figure><p>Git encourages users to use branches to finish a task, and delete it after finished. Although this is same with directly working on branch ‘master’, such operation is safer.</p></li></ul><h3 id="git-switch-command"><a class="markdownIt-Anchor" href="#git-switch-command"></a> <code>git switch</code> command</h3><ul><li>New versions of git can let you manage branches by using <code>git switch</code> commands</li></ul><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git switch -c dev        # Create and switch to branch &#x27;dev&#x27;<br>git switch master        # Switch to the existed branch &#x27;master&#x27;<br></code></pre></td></tr></table></figure><h3 id="resolve-conflicts"><a class="markdownIt-Anchor" href="#resolve-conflicts"></a> Resolve conflicts</h3><p>In the previous example, we created and switched to a new branch named ‘dev’, commited something to ‘dev’, and then merge the two branches. Note that there’s no commits on branch ‘master’, and thanks to this coincidence, the merge process used ‘fast-forward’ mode.</p><p>But what will happen if there’re modifications on both branches?</p><p>Remember that git tracks modications instead of files. Instead of using ‘fast-forward’, git will try to merge both modifications to a file.</p><ul><li><p>In this example, both branches (‘feature1’ and ‘master’) have commits related to a same file, and a conflict happens when merging.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git switch -c feature1</span>   <br>Switched to a new branch &#x27;feature1&#x27;   # a new branch &#x27;feature1&#x27;<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git switch master</span><br>Switched to branch &#x27;master&#x27;<br>Your branch is ahead of &#x27;origin/master&#x27; by 1 commit.<br>  (use &quot;git push&quot; to publish your local commits)     # another modifications on master branch<br><span class="hljs-meta prompt_"></span><br><span class="hljs-meta prompt_"># </span><span class="language-bash">now git cannot use fast-forward to merge modifications. Conflicts happen !</span><br><span class="hljs-meta prompt_">$ </span><span class="language-bash">git merge feature1</span><br>Auto-merging readme.txt<br>CONFLICT (content): Merge conflict in readme.txt<br>Automatic merge failed; fix conflicts and then commit the result.<br></code></pre></td></tr></table></figure></li><li><p><code>git status</code> can tell us the conflicted files.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git status</span><br>On branch master<br>Your branch is ahead of &#x27;origin/master&#x27; by 2 commits.<br>  (use &quot;git push&quot; to publish your local commits)<br><br>You have unmerged paths.<br>  (fix conflicts and run &quot;git commit&quot;)<br>  (use &quot;git merge --abort&quot; to abort the merge)<br><br>Unmerged paths:<br>  (use &quot;git add &lt;file&gt;...&quot; to mark resolution)<br><br>	both modified:   readme.txt<br><br>no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)<br></code></pre></td></tr></table></figure><p>We can see the contents of <code>readme.txt</code> (the conflicted file)</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vim">Git <span class="hljs-keyword">is</span> <span class="hljs-keyword">a</span> distributed <span class="hljs-keyword">version</span> control <span class="hljs-built_in">system</span>.<br>Git <span class="hljs-keyword">is</span> free software distributed under the GPL.<br>Git <span class="hljs-built_in">has</span> <span class="hljs-keyword">a</span> mutable <span class="hljs-built_in">index</span> called stage.<br>Git tracks <span class="hljs-keyword">changes</span> of <span class="hljs-keyword">files</span>.<br>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br>Creating <span class="hljs-keyword">a</span> <span class="hljs-keyword">new</span> branch <span class="hljs-keyword">is</span> quick &amp; simple.<br>=======<br>Creating <span class="hljs-keyword">a</span> <span class="hljs-keyword">new</span> branch <span class="hljs-keyword">is</span> quick AND simple.<br>&gt;&gt;&gt;&gt;&gt;&gt;&gt; feature1<br></code></pre></td></tr></table></figure><p>Git uses <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>，<code>=======</code>，<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code> to mark out the modifications of different branches.</p></li><li><p>After resolving the conflicts, use <code>git commit</code> to commit the changes, and then try merging for another time.</p></li><li><p>We can use <code>git log --graph</code> to see the merging history of branches.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs shell"><span class="hljs-meta prompt_">$ </span><span class="language-bash">git <span class="hljs-built_in">log</span> --graph --pretty=oneline --abbrev-commit</span><br>*   cf810e4 (HEAD -&gt; master) conflict fixed<br>|\  <br>| * 14096d0 (feature1) AND simple<br>* | 5dc6824 &amp; simple<br>|/  <br>* b17d20e branch test<br>* d46f35e (origin/master) remove test.txt<br>* b84166e add test.txt<br>* 519219b git tracks changes<br>* e43a48b understand how stage works<br>* 1094adb append GPL<br>* e475afc add distributed<br>* eaadf4e wrote a readme file<br></code></pre></td></tr></table></figure></li></ul><h3 id="force-disable-fast-forward"><a class="markdownIt-Anchor" href="#force-disable-fast-forward"></a> Force disable fast forward</h3><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">git</span> merge --<span class="hljs-literal">no</span>-ff -m <span class="hljs-string">&quot;merge with no-ff&quot;</span> dev<br></code></pre></td></tr></table></figure><ul><li><code>--no-ff</code> tells git not to use fast forward for this time. This kind of merging requires creating a new commit, so we added <code>-m</code> arg to write the commit message.</li><li>‘Fast-forward’ merging leaves no trace on this merging, while ‘merging with no-ff’ can leave a history that a merge happened.</li></ul><h2 id="remote-repo"><a class="markdownIt-Anchor" href="#remote-repo"></a> Remote repo</h2><ul><li><p>Create a repo at github, and link the local repo to the remote repo.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git remote add origin git@github.com:xxx/xxx.git<br></code></pre></td></tr></table></figure><p>The default remote repository’s name are often <code>origin</code>.</p></li><li><p>Push the contents of the local repo to the remote repo.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git push -u origin master<br></code></pre></td></tr></table></figure><p>For the first push, we added <code>-u</code> arg. Git will not only push the contents of branch ‘master’ to the remote branch master, but also linking the local ‘master’ to the remote ‘master’.</p></li><li><p>Then, every time we made changes to the local repo, we can use the following command</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git push origin master	<br></code></pre></td></tr></table></figure><p>to push the latest local changes to the remote repo.</p></li><li><p>To see the remote repo’s information, use</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git remote -v <br></code></pre></td></tr></table></figure></li><li><p>The above operation is the status that, we have a local repo first, and then the remote repo. If we already have the remote repo, we can use <code>git clone</code> command.</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs crmsh">git <span class="hljs-keyword">clone</span> <span class="hljs-title">git</span>@github.com:xxx/xxx.git<br></code></pre></td></tr></table></figure></li></ul><h2 id="cooperate-with-others"><a class="markdownIt-Anchor" href="#cooperate-with-others"></a> Cooperate with others</h2><ul><li><p>‘Pushing a branch’ means pushing all the local commits to the remote repository. The local branch’s name must be specified when pushing, and git will push this branch to the corresponding remote repository.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs shell">git push origin master<br>git push origin dev<br></code></pre></td></tr></table></figure></li><li><p>The cooperation usually behaves like the follows:</p><ol><li>First, try to use <code>git push origin &lt;branch_name&gt;</code> to push one’s commits.</li><li>If the push fails, it’s because that the remote branch are newer than (ahead of) the local one. We need to use <code>git pull origin &lt;branch_name&gt;</code> to try to merge the modifications.</li><li>If the merge fails, we have to resolve conflicts and commit again.</li><li>After solving the conflicts, use <code>git push origin &lt;branch_name&gt;</code> and we can successfully push!</li></ol></li><li><p>If the <code>git pull</code> command outputs <code>no tracking information</code>, it indicates the linking relationship between the local branch and the remote branch has not been created. You can use <code>git branch --set-upstream-to &lt;branch-name&gt; origin &lt;branch-name&gt;</code> to solve this.</p></li></ul><h2 id="tag-management"><a class="markdownIt-Anchor" href="#tag-management"></a> Tag management</h2><h3 id="create-a-tag"><a class="markdownIt-Anchor" href="#create-a-tag"></a> Create a tag</h3><ul><li><p>Use</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">git tag v1.0<br></code></pre></td></tr></table></figure><p>to create a tag on the current branch.</p></li><li><p>We can use <code>git tag</code> to see all the tags we currently have.</p></li><li><p>We can also tag on previous commits. Find the commit id, and then use <code>git tag &lt;tag_name&gt; &lt;commit_id&gt;</code>.</p></li><li><p><code>-a</code> specifies the tag name，<code>-m</code> specifies the message.</p></li></ul><h3 id="managing-the-tags-with-remote"><a class="markdownIt-Anchor" href="#managing-the-tags-with-remote"></a> Managing the tags with remote</h3><ul><li><code>git push origin &lt;tagname&gt;</code> pushes a local tag to the remote</li><li><code>git push origin --tags</code> pushes all the local tags that haven’t been pushed to the remote.</li><li><code>git tag -d &lt;tagname&gt;</code> deletes a local tag.</li><li><code>git push origin :refs/tags/&lt;tagname&gt;</code> deletes a remote tag.</li></ul></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/Code/" class="category-chain-item">Code</a> <span>></span> <a href="/categories/Code/git/" class="category-chain-item">git</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/git/">#git</a> <a href="/tags/linux/">#linux</a></div></div><div class="license-box my-3"><div class="license-title"><div>Git</div><div>https://www.billhu.us/2022/23_git/</div></div><div class="license-meta"><div class="license-meta-item"><div>Author</div><div>Bill Hu</div></div><div class="license-meta-item license-meta-date"><div>Posted on</div><div>March 14, 2022</div></div><div class="license-meta-item"><div>Licensed under</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - Attribution"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2022/25_signal/" title="[Lecture Notes] EE150 Signals and Systems"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">[Lecture Notes] EE150 Signals and Systems</span> <span class="visible-mobile">Previous</span></a></article><article class="post-next col-6"><a href="/2022/22_hexo_nginx_ssl/" title="Install SSL certificate on Nginx"><span class="hidden-mobile">Install SSL certificate on Nginx</span> <span class="visible-mobile">Next</span> <i class="iconfont icon-arrowright"></i></a></article></div></div></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i> <span>Table of Contents</span></p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">Search</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">Keyword</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <span>With </span><a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> <i class="iconfont icon-love"></i> <a href="/about" target="_blank" rel="nofollow noopener"><span>Bill Hu</span></a><div style="font-size:.85rem"><span id="timeDate">Loading days...</span> <span id="times">Loading time...</span><script src="/js/duration.min.js"></script></div></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing,t=t.getElementById("subtitle");t&&e&&e(t.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init(Object.assign({tocSelector:"#toc-body",contentSelector:".markdown-body",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",scrollSmooth:!0,includeTitleTags:!0,headingsOffset:-t},CONFIG.toc)),0<o.find(".toc-list-item").length&&o.css("visibility","visible"),Fluid.events.registerRefreshCallback(function(){var t;"tocbot"in window&&(tocbot.refresh(),0!==(t=jQuery("#toc")).length)&&tocbot&&0<t.find(".toc-list-item").length&&t.css("visibility","visible")}))})</script><script src="https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js"></script><script>Fluid.plugins.codeWidget()</script><script>Fluid.utils.createScript("https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js",function(){window.anchors.options={placement:CONFIG.anchorjs.placement,visible:CONFIG.anchorjs.visible},CONFIG.anchorjs.icon&&(window.anchors.options.icon=CONFIG.anchorjs.icon);var n,o=[];for(n of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))o.push(".markdown-body > "+n.trim());"left"===CONFIG.anchorjs.placement&&(window.anchors.options.class="anchorjs-link-left"),window.anchors.add(o.join(", ")),Fluid.events.registerRefreshCallback(function(){if("anchors"in window){anchors.removeAll();var n,o=[];for(n of(CONFIG.anchorjs.element||"h1,h2,h3,h4,h5,h6").split(","))o.push(".markdown-body > "+n.trim());"left"===CONFIG.anchorjs.placement&&(anchors.options.class="anchorjs-link-left"),anchors.add(o.join(", "))}})})</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">Blog works best with JavaScript enabled</div></noscript><script>"www.billhu.cn"==window.top.location.host&&(window.top.location.host="www.billhu.us")</script></body></html>